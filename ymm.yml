# - install
# - test
# - watch
# - release
# - dev
install:
    - pip3 install -r requirements.txt
build:
    - pip3 install --upgrade pytest
    - pip3 install --upgrade pytest-watch
    - pip3 install --upgrade build
    - pip3 install --upgrade twine

test:
    - python3 -m pytest
watch:
    - echo Type `ptw` in a Terminal. Verify it is using Python 3.x.
release:
    - prerelease --no-input
    - release --no-input
    - python3 -m build
    - python3 -m twine upload dist/*
    - postrelease --no-input

# udpate version dev? string, commit and push new version
dev:
    - awk -Fv '{printf("%sv%d\n",$1,v$2+1)}' version.txt > /tmp/version.txt
    - cp /tmp/version.txt version.txt
    - git commit -am `cat version.txt`
    - git push
    - cat version.txt
