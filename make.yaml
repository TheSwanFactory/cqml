# pypyr make
# - install
# - test
# - watch
# - release
# - dev
context_parser: pypyr.parser.keys
steps:
  - name: pypyr.steps.default
    comment: set default values for optional cli inputs
    in:
      defaults:
        install: False
        test: False
        watch: False

  - name: pypyr.steps.echo
    in:
      echoMe: begin

  - name: pypyr.steps.cmd
    run: '{install}'
    in:
      cmd: python3 -m pip install -r requirements.txt

  - name: pypyr.steps.cmd
    run: '{test}'
    in:
      cmd: pip3 install pytest

  - name: pypyr.steps.cmd
    run: '{test}'
    in:
      cmd: python3 -m pytest

  - name: pypyr.steps.cmd
    run: '{watch}'
    in:
      cmd: pip3 install pytest-watch

  - name: pypyr.steps.cmd
    run: '{watch}'
    in:
      cmd: pytest-watch

  - name: pypyr.steps.echo
    in:
      echoMe: end
